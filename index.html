<!DOCTYPE html>
<html>
<head>
    <title>Two Pages Embedded in Iframes</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: auto;
        }

        .totals-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 25vh;
            background-color: #f0f0f0;
        }

        .button-container {
            position: fixed;
            top: 25vh;
            left: 0;
            width: 100%;
            background-color: #f0f0f0;
            text-align: center;
            padding: 10px 0;
        }

        .button {
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .active-button {
            padding: 15px 25px; /* Bigger size for active button */
        }

        .iframe-container {
            width: 100%;
            height: 70vh; /* Bottom 70% of the page */
            display: none;
            padding-top: 30vh; /* Adjust the padding for better visibility */
        }

        /* Additional style for game iframes */
        .iframe-container iframe {
            height: 100%;
        }
    </style>
</head>
<body>
    <div class="totals-container">
        <iframe src="Totalsp1.html" width="100%" height="100%"></iframe>
    </div>

    <div class="button-container">
        <button class="button active-button" onclick="scrollToGame('game1', this)">Game 1</button>
        <button class="button" onclick="scrollToGame('game2', this)">Game 2</button>
        <button class="button" onclick="captureAndShare()">Share</button>
    </div>

    <div id="game1" class="iframe-container" style="display: block;">
        <iframe src="p1g1.html" width="100%" height="100%"></iframe>
    </div>

    <div id="game2" class="iframe-container">
        <iframe src="p1g2.html" width="100%" height="100%"></iframe>
    </div>

    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script>
        function scrollToGame(game, button) {
            const element = document.getElementById(game);
            element.style.display = 'block';
            window.scrollTo({ top: element.offsetTop - 25, behavior: 'smooth' });

            // Add or remove the active-button class based on the selected button
            const buttons = document.querySelectorAll('.button');
            buttons.forEach(btn => btn.classList.remove('active-button'));
            button.classList.add('active-button');
        }

        function captureAndShare() {
            const iframes = document.querySelectorAll('.iframe-container iframe');
            
            iframes.forEach((iframe, index) => {
                // Use html2canvas to capture each iframe
                html2canvas(iframe, { useCORS: true }).then(canvas => {
                    // Convert the canvas to a data URL
                    const imageDataUrl = canvas.toDataURL('image/png');
                    
                    // Create an anchor element to allow downloading the image
                    const downloadLink = document.createElement('a');
                    downloadLink.href = imageDataUrl;
                    downloadLink.download = `iframe_${index + 1}.png`;
                    
                    // Trigger a click event to initiate the download
                    downloadLink.click();
                });
            });
        }
    </script>
</body>
</html>
