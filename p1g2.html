function render3D() {
    if (!selectedFile) {
        alert('Please load an image first.');
        return;
    }

    // Find the coordinates of the square in pixelArray
    var squareCoordinates = findSquareCoordinates(pixelArray);

    if (!squareCoordinates) {
        alert('No square shape found in the array.');
        return;
    }

    // Assuming Babylon.js scene and engine are globally accessible
    var canvas = document.createElement('canvas');
    canvas.width = 800; // Set your preferred width
    canvas.height = 600; // Set your preferred height
    document.body.appendChild(canvas);

    var engine = new BABYLON.Engine(canvas, true);
    var scene = new BABYLON.Scene(engine);

    // Create a basic material
    var material = new BABYLON.StandardMaterial("material", scene);
    material.diffuseColor = new BABYLON.Color3(1, 0, 0); // Red color

    // Create a box for the square shape
    var box = BABYLON.MeshBuilder.CreateBox("box", { size: 1 }, scene);
    box.position = new BABYLON.Vector3(squareCoordinates.x, squareCoordinates.y, 0);
    box.material = material;

    // Set up camera and lights
    var camera = new BABYLON.ArcRotateCamera("Camera", 0, 0, 10, BABYLON.Vector3.Zero(), scene);
    camera.attachControl(canvas, true);
    var light = new BABYLON.HemisphericLight("light", new BABYLON.Vector3(0, 1, 0), scene);

    // Run the Babylon.js engine
    engine.runRenderLoop(function () {
        scene.render();
    });

    // Handle window resize
    window.addEventListener("resize", function () {
        engine.resize();
    });
}

function findSquareCoordinates(array) {
    // Implement logic to find the coordinates of the square shape in the array
    // For simplicity, let's assume the square is the entire array
    // You may need to modify this based on your actual square detection logic

    for (var y = 0; y < array.length; y++) {
        for (var x = 0; x < array[y].length; x++) {
            if (array[y][x] !== 0) {
                return null; // No square shape found
            }
        }
    }

    return { x: 0, y: 0 }; // Return the top-left corner for simplicity
}
